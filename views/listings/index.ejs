
<% layout('layouts/boilerplate') %>
<body>
  <div id="carouselExampleCaptions" class="carousel slide">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner" style="height: 350px;">
        <div class="carousel-item active" style="height: 350px; position: relative;">
            <img src="https://images.unsplash.com/photo-1717229770067-fc87ef50e4af?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="d-block w-100 dimmed-image" alt="..." style="object-fit: cover;">
            <div class="carousel-caption left-aligned">
                <h5>Trending Listings</h5>
                <p>Explore the most popular listings on our platform. Don't miss out on these trending spots!</p>
                <a href="/filter?category=trending" class="btn btn-primary">View Trending Listings</a>
            </div>
        </div>
        <div class="carousel-item" style="height: 350px; position: relative;">
            <img src="https://images.unsplash.com/photo-1523538290088-51e3e7d1c00d?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="d-block w-100 dimmed-image" alt="..." style="object-fit: cover;">
            <div class="carousel-caption left-aligned">
                <h5>Summer Travel</h5>
                <p>Plan your perfect summer getaway with our exclusive summer travel listings.</p>
                <a href="/filter?category=summer" class="btn btn-primary">View Summer Listings</a>
            </div>
        </div>
        <div class="carousel-item" style="height: 350px; position: relative;">
            <img src="https://images.unsplash.com/photo-1623941000186-afafbcfb65e7?q=80&w=2072&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="d-block w-100 dimmed-image" alt="..." style="object-fit: cover;">
            <div class="carousel-caption left-aligned">
                <h5>Seaside Escapes</h5>
                <p>Discover stunning seaside destinations for your next beach vacation.</p>
                <a href="/filter?category=seaside" class="btn btn-primary">View Seaside Listings</a>
            </div>
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

<style>
    .dimmed-image {
        filter: brightness(70%);
    }

    .carousel-caption {
        position: absolute;
        top: 50%;
        left: 10%;
        transform: translateY(-50%);
        text-align: left;
        z-index: 2;
    }

    .carousel-caption h5,
    .carousel-caption p {
        font-size: larger;
        color: rgb(218, 214, 214);
        font-weight: bold;
    }

    .carousel-caption a.btn {
        margin-top: 10px;
    }

    .carousel-item::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5); /* Adjust the alpha value to control the dimness */
        z-index: 1;
    }
</style>


  <div class="container mt-4">
    <!-- <h3 style="color: whitesmoke;"><strong>All Listings</strong></h3> -->
    <!-- <form method="GET" action="/listings/new" class="mb-3">
      <button class="btn btn-primary">Create New Listing</button>
    </form> -->
    <div class="row">
      <% for(let listing of allListings) { %>
        <div class="col-md-4 mb-4">
          <div class="card ";">
            <a href="/listings/<%= listing._id %>" style="text-decoration: none; color: inherit;">
              <img src="<%= listing.image.url %>" alt="<%= listing.title %>" class="card-img-top" style="width: 100%; height: 200px; object-fit: cover;">
              <div class="card-body">
                <h5 class="card-title"><%= listing.title %></h5>
                <p class="card-text">$<%= listing.price %></p>
              </div>
            </a>
          </div>
        </div>
      <% } %>
    </div>
  </div>
</body>

